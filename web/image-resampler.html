<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Image Resampler</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f5f5f5;
            --bg-card: #ffffff;
            --accent-primary: #3b82f6;
            --accent-secondary: #60a5fa;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --text-muted: #8a8a9a;
            --border-color: #e0e2ea;
            --success: #0d9668;
            --error: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background decoration */
        .bg-decoration {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .bg-decoration::before {
            display: none;
        }

        .bg-decoration::after {
            display: none;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(30px, -30px) rotate(5deg); }
        }

        .grid-pattern {
            display: none;
        }

        /* Main container */
        .container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            padding: 10px 24px;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 10px;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--accent-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 400;
            margin-top: 8px;
        }

        .nav-link {
            display: inline-block;
            margin-top: 16px;
            color: var(--accent-primary);
            text-decoration: none;
            font-size: 0.9rem;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .nav-link:hover {
            opacity: 1;
            text-decoration: underline;
        }

        /* Card */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            margin: 10px 0px;
        }

        .card-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 12px;
        }

        /* Drop zone */
        .drop-zone {
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            padding: 16px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .drop-zone::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--accent-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .drop-zone:hover {
            border-color: var(--accent-primary);
        }

        .drop-zone:hover::before {
            opacity: 0.05;
        }

        .drop-zone.drag-over {
            border-color: var(--accent-primary);
            border-style: solid;
        }

        .drop-zone.drag-over::before {
            opacity: 0.1;
        }

        .drop-zone-content {
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .drop-icon {
            font-size: 24px;
            opacity: 0.8;
        }

        .drop-text {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .drop-text .drop-subtext {
            color: var(--text-muted);
            font-weight: 400;
        }

        .file-input {
            display: none;
        }

        /* File info */
        .file-info {
            display: none;
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 16px 20px;
            margin-top: 20px;
            align-items: center;
            gap: 16px;
        }

        .file-info.visible {
            display: flex;
        }

        .file-icon {
            width: 48px;
            height: 48px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .file-details {
            flex: 1;
            min-width: 0;
        }

        .file-name {
            font-weight: 500;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .file-size {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-top: 2px;
        }

        .file-remove {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: none;
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .file-remove:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        /* Options */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
        }

        .option-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .option-label-icon {
            opacity: 0.7;
            font-size: 0.85em;
        }

        .option-input {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 8px 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
            outline: none;
            transition: all 0.2s ease;
            width: 100%;
        }

        .option-input:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }

        .option-hint {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* Checkbox */
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            cursor: pointer;
            user-select: none;
        }

        .checkbox-label input[type="checkbox"] {
            display: none;
        }

        .checkbox-custom {
            width: 16px;
            height: 16px;
            border: 2px solid var(--border-color);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .checkbox-label input[type="checkbox"]:checked + .checkbox-custom {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
        }

        .checkbox-label input[type="checkbox"]:checked + .checkbox-custom::after {
            content: '‚úì';
            color: white;
            font-size: 10px;
            font-weight: bold;
        }

        .checkbox-label:hover .checkbox-custom {
            border-color: var(--accent-primary);
        }

        /* Range slider */
        .slider-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .option-slider {
            flex: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }

        .option-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 14px;
            height: 14px;
            background: var(--accent-primary);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .option-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .option-slider::-moz-range-thumb {
            width: 14px;
            height: 14px;
            background: var(--accent-primary);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .option-slider::-moz-range-thumb:hover {
            transform: scale(1.1);
        }

        .slider-value {
            min-width: 36px;
            padding: 4px 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-primary);
            text-align: center;
        }

        /* Button */
        .btn-primary {
            width: 100%;
            padding: 14px 24px;
            background: var(--accent-primary);
            border: none;
            border-radius: 10px;
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.25);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.35);
        }

        .btn-primary:active:not(:disabled) {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Progress */
        .progress-container {
            display: none;
            margin-top: 24px;
        }

        .progress-container.visible {
            display: block;
        }

        .progress-bar {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-primary);
            border-radius: 3px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Results */
        .results {
            display: none;
            text-align: center;
        }

        .results.visible {
            display: block;
        }

        .results-icon {
            width: 72px;
            height: 72px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin: 0 auto 20px;
        }

        .results-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .results-stats {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin: 24px 0;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .btn-download {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            background: var(--success);
            border: none;
            border-radius: 12px;
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(13, 150, 104, 0.25);
        }

        .btn-reset {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 16px;
            padding: 12px 24px;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-family: 'Outfit', sans-serif;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-reset:hover {
            border-color: var(--text-muted);
            color: var(--text-primary);
        }

        /* Error state */
        .error-message {
            display: none;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            padding: 16px 20px;
            color: var(--error);
            margin-top: 20px;
            font-size: 0.95rem;
        }

        .error-message.visible {
            display: block;
        }

        /* Loading state */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.7);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 24px;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--accent-primary);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.75rem;
            }

            .card {
                padding: 16px;
            }

            .drop-zone {
                padding: 14px 16px;
            }

            .results-stats {
                flex-direction: column;
                gap: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-decoration">
        <div class="grid-pattern"></div>
    </div>

    <div class="container">
        <header>
            <p class="instructions" style="color: #b0b0c0; font-size: 0.95rem; margin-top: 10px; line-height: 1.6; margin-left: auto; margin-right: auto;">
                <strong style="color: #8a8a9a;">How to use:</strong> Upload a PDF file, set your target DPI (images above this will be downsampled), 
                adjust JPEG quality for compression level, then click "Compress PDF" to process. 
                Your compressed file will be ready for download instantly.
            </p>
        </header>

        <main id="main-content">
            <!-- Upload Card -->
            <div class="card" id="upload-card">
                <div class="card-title">Upload PDF</div>
                
                <div class="drop-zone" id="drop-zone">
                    <div class="drop-zone-content">
                        <div class="drop-icon">üìÅ</div>
                        <div class="drop-text">Drop your PDF here <span class="drop-subtext">or click to browse</span></div>
                    </div>
                    <input type="file" class="file-input" id="file-input" accept=".pdf,application/pdf">
                </div>

                <div class="file-info" id="file-info">
                    <div class="file-icon">üìÑ</div>
                    <div class="file-details">
                        <div class="file-name" id="file-name">document.pdf</div>
                        <div class="file-size" id="file-size">2.4 MB</div>
                    </div>
                    <button class="file-remove" id="file-remove" title="Remove file">‚úï</button>
                </div>
            </div>

            <!-- Options Card -->
            <div class="card">
                <div class="card-title">Options</div>
                
                <div class="options-grid">
                    <div class="option-group">
                        <label class="option-label" for="target-dpi">
                            <span class="option-label-icon">üéØ</span>
                            Target DPI
                        </label>
                        <div class="slider-container">
                            <input type="range" class="option-slider" id="target-dpi" value="150" min="10" max="600" step="10">
                            <span class="slider-value" id="target-dpi-value">150</span>
                        </div>
                        <span class="option-hint">Images above this DPI will be resampled</span>
                    </div>

                    <div class="option-group">
                        <label class="option-label" for="quality">
                            <span class="option-label-icon">‚ú®</span>
                            JPEG Quality
                        </label>
                        <div class="slider-container">
                            <input type="range" class="option-slider" id="quality" value="75" min="10" max="100" step="1">
                            <span class="slider-value" id="quality-value">75</span>
                        </div>
                        <span class="option-hint">10-100, higher = better quality</span>
                    </div>

                    <div class="option-group">
                        <label class="option-label" for="min-dpi">
                            <span class="option-label-icon">üìè</span>
                            Min DPI Threshold
                        </label>
                        <div class="slider-container">
                            <input type="range" class="option-slider" id="min-dpi" value="0" min="0" max="300" step="10">
                            <span class="slider-value" id="min-dpi-value">0</span>
                        </div>
                        <span class="option-hint">Skip images below this DPI</span>
                    </div>

                    <div class="option-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="compress-streams" checked>
                            <span class="checkbox-custom"></span>
                            <span class="option-label-icon">üì¶</span>
                            Compress Streams
                        </label>
                        <span class="option-hint">Compress PDF content streams</span>
                    </div>
                </div>
            </div>

            <!-- Process Button -->
            <button class="btn-primary" id="process-btn" disabled>
                <span id="btn-text">Compress PDF</span>
                <span id="btn-spinner" class="loading-spinner" style="display: none;"></span>
            </button>

            <!-- Progress -->
            <div class="progress-container" id="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Processing...</div>
            </div>

            <!-- Error -->
            <div class="error-message" id="error-message"></div>

            <!-- Results -->
            <div class="card results" id="results">
                <div class="results-icon">‚úì</div>
                <div class="results-title">PDF Processed Successfully!</div>
                
                <div class="results-stats">
                    <div class="stat">
                        <div class="stat-value" id="stat-total">0</div>
                        <div class="stat-label">Total Images</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="stat-resampled">0</div>
                        <div class="stat-label">Resampled</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="stat-skipped">0</div>
                        <div class="stat-label">Skipped</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="stat-reduction">0%</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                </div>

                <a class="btn-download" id="download-btn" href="#" download>
                    ‚¨á Download Compressed PDF
                </a>
                
                <button class="btn-reset" id="reset-btn">
                    ‚Ü∫ Process Another PDF
                </button>
            </div>
        </main>

    </div>

    <script type="module">
        import init, { resample_pdf_with_info } from './pkg/resample_pdf.js';

        let wasmReady = false;
        let selectedFile = null;
        let processedBlob = null;
        let originalSize = 0;

        // DOM elements
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const fileInfo = document.getElementById('file-info');
        const fileName = document.getElementById('file-name');
        const fileSize = document.getElementById('file-size');
        const fileRemove = document.getElementById('file-remove');
        const processBtn = document.getElementById('process-btn');
        const btnText = document.getElementById('btn-text');
        const btnSpinner = document.getElementById('btn-spinner');
        const progressContainer = document.getElementById('progress-container');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const errorMessage = document.getElementById('error-message');
        const results = document.getElementById('results');
        const uploadCard = document.getElementById('upload-card');
        const downloadBtn = document.getElementById('download-btn');
        const resetBtn = document.getElementById('reset-btn');

        // Initialize WASM
        async function initWasm() {
            try {
                await init();
                wasmReady = true;
                console.log('WASM initialized successfully');
            } catch (e) {
                console.error('Failed to initialize WASM:', e);
                showError('Failed to load the PDF processor. Please refresh the page.');
            }
        }

        initWasm();

        // Format file size
        function formatSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(2) + ' MB';
        }

        // Show error
        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.add('visible');
        }

        // Hide error
        function hideError() {
            errorMessage.classList.remove('visible');
        }

        // Set selected file
        function setFile(file) {
            if (!file || file.type !== 'application/pdf') {
                showError('Please select a valid PDF file.');
                return;
            }

            selectedFile = file;
            originalSize = file.size;
            fileName.textContent = file.name;
            fileSize.textContent = formatSize(file.size);
            fileInfo.classList.add('visible');
            processBtn.disabled = !wasmReady;
            hideError();
        }

        // Clear file
        function clearFile() {
            selectedFile = null;
            processedBlob = null;
            originalSize = 0;
            fileInput.value = '';
            fileInfo.classList.remove('visible');
            processBtn.disabled = true;
            hideError();
        }

        // Reset to initial state
        function reset() {
            clearFile();
            results.classList.remove('visible');
            uploadCard.style.display = 'block';
            progressContainer.classList.remove('visible');
            progressFill.style.width = '0%';
        }

        // Process PDF
        async function processPdf() {
            if (!selectedFile || !wasmReady) return;

            hideError();
            processBtn.disabled = true;
            btnText.textContent = 'Processing...';
            btnSpinner.style.display = 'inline-block';
            progressContainer.classList.add('visible');
            progressFill.style.width = '20%';
            progressText.textContent = 'Reading PDF...';

            try {
                // Read file
                const arrayBuffer = await selectedFile.arrayBuffer();
                const inputBytes = new Uint8Array(arrayBuffer);

                progressFill.style.width = '40%';
                progressText.textContent = 'Analyzing images...';

                // Get options
                const targetDpi = parseFloat(document.getElementById('target-dpi').value) || 150;
                const quality = parseInt(document.getElementById('quality').value) || 75;
                const minDpi = parseFloat(document.getElementById('min-dpi').value) || 0;
                const compressStreams = document.getElementById('compress-streams').checked;

                progressFill.style.width = '60%';
                progressText.textContent = 'Resampling images...';

                // Process PDF
                const result = resample_pdf_with_info(inputBytes, targetDpi, quality, minDpi, compressStreams);

                progressFill.style.width = '90%';
                progressText.textContent = 'Finalizing...';

                // Create download blob
                const outputBytes = result.pdf_bytes;
                processedBlob = new Blob([outputBytes], { type: 'application/pdf' });

                // Calculate reduction
                const newSize = processedBlob.size;
                const reduction = ((1 - newSize / originalSize) * 100).toFixed(1);

                // Update stats
                document.getElementById('stat-total').textContent = result.total_images;
                document.getElementById('stat-resampled').textContent = result.resampled_images;
                document.getElementById('stat-skipped').textContent = result.skipped_images;
                document.getElementById('stat-reduction').textContent = reduction + '%';

                // Set download link
                const outputName = selectedFile.name.replace(/\.pdf$/i, '_resampled.pdf');
                downloadBtn.href = URL.createObjectURL(processedBlob);
                downloadBtn.download = outputName;

                // Show results
                progressFill.style.width = '100%';
                
                setTimeout(() => {
                    progressContainer.classList.remove('visible');
                    uploadCard.style.display = 'none';
                    results.classList.add('visible');
                }, 300);

            } catch (e) {
                console.error('Processing failed:', e);
                showError('Failed to process PDF: ' + (e.message || e));
                progressContainer.classList.remove('visible');
            } finally {
                processBtn.disabled = false;
                btnText.textContent = 'Compress PDF';
                btnSpinner.style.display = 'none';
            }
        }

        // Event listeners
        dropZone.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                setFile(e.target.files[0]);
            }
        });

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            if (e.dataTransfer.files.length > 0) {
                setFile(e.dataTransfer.files[0]);
            }
        });

        fileRemove.addEventListener('click', (e) => {
            e.stopPropagation();
            clearFile();
        });

        processBtn.addEventListener('click', processPdf);
        resetBtn.addEventListener('click', reset);

        // Slider value updates
        const targetDpiSlider = document.getElementById('target-dpi');
        const targetDpiValue = document.getElementById('target-dpi-value');
        const qualitySlider = document.getElementById('quality');
        const qualityValue = document.getElementById('quality-value');
        const minDpiSlider = document.getElementById('min-dpi');
        const minDpiValue = document.getElementById('min-dpi-value');

        targetDpiSlider.addEventListener('input', () => {
            targetDpiValue.textContent = targetDpiSlider.value;
        });

        qualitySlider.addEventListener('input', () => {
            qualityValue.textContent = qualitySlider.value;
        });

        minDpiSlider.addEventListener('input', () => {
            minDpiValue.textContent = minDpiSlider.value;
        });

        // Prevent default drag behavior on window
        window.addEventListener('dragover', (e) => e.preventDefault());
        window.addEventListener('drop', (e) => e.preventDefault());
    </script>
</body>
</html>

